import * as React from 'react';

import {
  createStyles,
  Theme,
  withStyles,
  WithStyles
} from 'src/components/core/styles';
import Drawer from 'src/components/Drawer';
import DrawerContent from 'src/components/DrawerContent';
import ScriptCode from 'src/components/ScriptCode';

const script = `apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNU1EVXdPREU1TlRjME5sb1hEVEk1TURVd05URTVOVGMwTmxvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBSzI3CkhYVEppKy9wa0Y4Sis4WGVXeXduM1dkWUNOZEVaT2FQbkh5b0RlcklhV2xoaG8vdG5jT0d1MndWQ2ZSRDJYRFUKQTN2UWNsVjRjZmUrRlZORWhhU04rZCt4S29qU1N2dXdQTzNFL3ZpYmpUMWNjWk53bG5nbi9jQVR2Y05BWDhaQgp1Q1VWWjVoUGZuVFd4VVk1TUdPRHd6RHgva0dycEJrTzFjMTBqM0djckliWmJvUmtwRXkyaXdKNThJVkJXdEM4CjZQdllWbHdWSE9NWEE0alRSbnplbE14LzdtbCt3V0dLVmtIaFh3bmw5YVlEMmNCVGlsc1FZdnlacTk4TzlqZ1MKRlFndXFxNlJEeTdSUDNpbFpkMGFnSHN4R2F1VG4rYVowWFBiUlRvN0ozQ1hvWHBQYnZoNjdicnJCMVNEU3dIegp1a3Y4MTN6U29TTHRDL2pkMStNQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFDWnc4SEp0RDhzbWUwUHB5VWZNNmJVaHNzS2gKTzRZNWVBZlhkR0wxWUhHdkhqT3pmd01qTWFNdDEzSXNaREM4RVZjZlJDSEdTd0lsdEh4R1BRdTdOTDlwQ0hTZQo0bXJBbElLRXN5amR2Rk11TW8vS0xFajQ4clQwbEZjY25ncUhoMWhlM3FGRU5GMkpaZGxuNG5Ram5DVGFVQUc5CjYvQmprZUVla1hVWHRtR0pkNDRLUGhna1VQYVJMdW1XVWNTUkNHM3IraHh4WVFkV3BidEYrcVVXU043TVdRT0YKdC9nUytkMld3NUNvN2RGZkhHUmtIeG5KMHpiMzZFaVNrSy91L1FNQTdwNlgzdG9YS0pvL1I2U1JuOXJnM1RJWApvbEZGbmVpY3hnTUgxWHU3ZnpqWjBQNkppSkV2cWxPMVNPZnpvYm9kY1R0a0Zzd1gxbHUrOWZCMEkvUT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    server: https://104.200.23.253:6443
  name: kubernetes
contexts:
- context:
    cluster: kubernetes
    user: kubernetes-admin
  name: kubernetes-admin@kubernetes
current-context: kubernetes-admin@kubernetes
kind: Config
preferences: {}
users:
- name: kubernetes-admin
  user:
    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM4akNDQWRxZ0F3SUJBZ0lJTjRiVFJlWGRxeDB3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB4T1RBMU1EZ3hPVFUzTkRaYUZ3MHlNREExTURjeE9UVTRNRFZhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTB6blpUM3VaVElEM05zenIKQnAwdWY3eTdBTGNMcXp4WTJEOHF0Z3pubWtCaEVvTlF1MHppN1BtN04zSnhUUVYrQWZEV2NPMW1XMmRmdFFlcApyTVVocktoS0pmOFVSZHI1dklGSkFmZGdtSXA1My9TSC9MOU4zWFBGS0l0WXRuZFdseW40VmZDbzlHM3NaMStlClNUa2xVbkdFdk1mWDhLR0NYa1ViR0Zib3lITTUwSUhhY2JQZjB3MHIwR2xjZmRzWGZnYkZTbkRoQVNodXJqRXkKMkIvaWdLSTM0NFpkRVVndURZWFc0WU5HdHlMUUtIa2NRcHBKNXZOeEY5cFpXdWVpSERHbzJZWkltRFJkSVJkSQpzYmc4clBtYTE3ZnkvVE8rbTZwSG85T2FEQ3YzM2VNQ2E0Z0p4cXB2M0ZPZmFlSnFDWFFHR0ZYR0ZUNGJFVlpPCmhxVTQrUUlEQVFBQm95Y3dKVEFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFETEpqbGpzTUlEZHdzUXFjKzU5NHpCenVKa3BWSjJsdmluagpDNm9ud1ExUlJXZnd5ek0yK0syM2xoM1dxSlJhWjgrVjM5Y0pRalNDa2dxSnlkMnBQVzNJUFZWYVlmSkJDeXVwCk1ucXg0YWNhd1VkdldERkJDblJIbjBzT3cwS01FblBGcjhKQStvNjlKSk81YnloZlNyYkdWK1R2QVlQeU1vUlMKbmlwanFOalFyazBwdUgxOHdWZCtsL0RwemtaTDFnMnN3bFQ4QUdZUFdsWkVpV2NRUmFxakloVjN0TUpiSEZqeAowbWVEZWNmcjJ6TFpFNncyRlV2UG95NVB4eTdOK2tweFRPQ240SmhqNTYrN2ZHdExLck4xWTNNSzUzOVZNOUlOCmRCU2V2cjNxZXpzdzQvTmQ3RlcyTjJUcDgwdHEycDhyd05OUlViZitVdmZhK0Z0Vk9IWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBMHpuWlQzdVpUSUQzTnN6ckJwMHVmN3k3QUxjTHF6eFkyRDhxdGd6bm1rQmhFb05RCnUwemk3UG03TjNKeFRRVitBZkRXY08xbVcyZGZ0UWVwck1VaHJLaEtKZjhVUmRyNXZJRkpBZmRnbUlwNTMvU0gKL0w5TjNYUEZLSXRZdG5kV2x5bjRWZkNvOUczc1oxK2VTVGtsVW5HRXZNZlg4S0dDWGtVYkdGYm95SE01MElIYQpjYlBmMHcwcjBHbGNmZHNYZmdiRlNuRGhBU2h1cmpFeTJCL2lnS0kzNDRaZEVVZ3VEWVhXNFlOR3R5TFFLSGtjClFwcEo1dk54RjlwWld1ZWlIREdvMllaSW1EUmRJUmRJc2JnOHJQbWExN2Z5L1RPK202cEhvOU9hREN2MzNlTUMKYTRnSnhxcHYzRk9mYWVKcUNYUUdHRlhHRlQ0YkVWWk9ocVU0K1FJREFRQUJBb0lCQVFDQTc2NFVVNmxuUnM0aApPSU02M1ZYV0NabkpQUE0xaXJmZEFPb01pT0lUaWJyM3R3cmYyblluRytaSldXV0tFNUV3bEJnQ2hSZlhNY245ClVua2ppbzRjdS9uUEtkN3hLVk1LMjR4NlU4dzJNVWxtQ1BtOXNmVlErZXRlN1hpd29UWk5QZ1JtU1dxSkVsU2QKWVlQWXhMWmdsZ1RseThPb0VwN205cDRzaEZqQ2lsOTVyTEVobGt3cjVQalJXdEVUd1BvbWl6RndWZkYrdHZITwpBN2Y1bHg4WWhlU290TGVxSHdUTTBOdmpSL1dseTV6c1QzVEI0NUhxVDF6di9WL3JFSS9BUkxNeWk5NjlZWk05CnBYeTVnZmxMSnlnWnI5emsrdUVHY3RVUkhBZkJ3OG15YkRSbytzTUViQ2oxMnM4bUNTTHZIZG9HYzRpNm41WUsKd2gyZmZSMEJBb0dCQU56Yy95RlZYWlpDdEJhQUI2eEcyeU1sMms2N2d1K28xekkvYVoyeUNlU0JpUldmdjN1ZQpja1NWcWtjR3Ntc1VEQjArNVR1K2R2N0UwVjFaMTN3VjVrR2kwaW5ML2wyNVNmOEhPajhxaHc4TDRVcElPczlMCjNybHNvV003bnVTQ1l5NEZOQXJuWlpuQkF6QU5FYkQ3YTdWeTNPczVHRDVkVlVTQTQ5TFlUMk9aQW9HQkFQVFUKVzdiOW95bVpQNVB3ZEJvN3J3WSsvWm9WVXJGZU02Zlg5Qm9YRmVlVGNjc3BVZmNEMFdIQlNNWEhxRm42WU9TYgo3V1VlUVEwUDFnVmk5aHgvU3VsRy9UOFVGdlQ2MmpaSEF2TTZGdzdYaDdRMXVKalpxdStWbHRlbHZXOXZzUGxkCms0YzFnYWE3NjZ4bmFBbmc3K214anMrSjZPczByRGJaem42cVlkeGhBb0dCQU1BV0hIWTdMa2ZPLzUxS0FHSmUKeFp2T0FnM1RtMDhnZ3ZpYW1ocWlpMlFISE5pSHRSdW9kQzBlRlpmc1JTUkhyVG1LU0FncjRJWTNXdmRiZWNQYgpzQVNKdlVySXRoT0JZTS9DMDIrNFp2bzVGTmxyOUdueHpHVnNDdmlwRThvZGRIREQ2YjFKL3QwNE5yT0Z5a3NvCmYwYXgvVjArck0wZ2sxWWUyd1czUjJTUkFvR0FPQU9GNEQzellJY1JScldTdXBYQkczcTU1dERPRklwcTR4SEQKWlZ5MnhENjFvRGVaNnh2U2diMEkrMGNNdTFsUFpiNU85LzJPQUlFSkJENTU5RmNqT20vbGJOTVoxWDYzQWdnSgpJc0M5bWNXeDVJY043dHFPQXphRVJsNURFd1hJeGFTbEppQVZ3NkhtNzVEUStzR2Q0aWVmZHRna2svdC9FeVdOCjJ1ajhic0VDZ1lCUThra2dXU2U2Q3p3bGNjWm0vU09wQVhjNTBlQm94MkNNRkc1R2MxbzZXaytjcUZmay9nbUEKWjNUV256dDRkd0NHa1hNTmkxcmVweUxtV2dTWFZDdU1BWWlhK3NRVWpEOWZzaWVySGgrTzV6d0o3eHhVT0lNbApUbElXaEViSFo2V24xQXY2aDJoNWZyLy93YWhSRU1rNUY2REtDUjAyRFRaNDVEY2hzZ3RMMmc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=`


type ClassNames = 'root';

const styles = (theme: Theme) =>
createStyles({
  root: {
  },
});

interface Props {
  kubeConfig: string;
  open: boolean;
  closeDrawer: () => void;
}

export type CombinedProps = Props & WithStyles<ClassNames>;

const splitCode = (code: string): string => {
  const MAX_LENGTH = 75;
  const lines = code.split('\n');
  const shortLines = lines.map(thisLine => thisLine.length > MAX_LENGTH ? splitCode((thisLine.slice(0,MAX_LENGTH) + '\n' + thisLine.slice(MAX_LENGTH,))): thisLine );
  return shortLines.join('\n');
}

export const KubeConfigDrawer: React.FC<CombinedProps> = (props) => {
  const { kubeConfig, closeDrawer, open } = props;
  const title="blah"
  const error = false;
  const loading = false;
  return (
    <Drawer title={"View Kubeconfig"} open={open} onClose={closeDrawer} chubby>
      <DrawerContent title={title} error={error} loading={loading}>
        {/* <ScriptCode script={script} /> */}
        <pre><code>{splitCode(script)}</code></pre>

      </DrawerContent>
    </Drawer>
  )
}


const styled = withStyles(styles);
export default styled(KubeConfigDrawer);